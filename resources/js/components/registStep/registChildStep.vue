<template>
<div class="p-regist-step__child">
    <h2 class="p-regist-step__num">STEP{{ index + 1 }}</h2>
    <div class="p-regist-step__group">
        <!-- 子STEPタイトル -->
        <div class="l-row c-form__group">
            <div class="l-row__col12 l-row__col04-pc">
                <label for="name" class="p-prof-edit__label">タイトル</label>
                <span class="c-form__require">必須</span>
            </div>
            <div class="l-row__col12 l-row__col08-pc">
                <input id="name" type="text" class="c-input c-input--full" v-model="title">
            </div>
        </div>
        <!-- 子STEP終了時間 -->
        <div class="l-row c-form__group">
            <div class="l-row__col12 l-row__col04-pc">
                <label for="img" class="p-prof-edit__label">終了目安時間</label>
                <span class="c-form__require">必須</span>
            </div>
            <div class="l-row__col12 l-row__col08-pc">
                <select name="" id="" class="c-select c-select--half-pc c-select--full-sm" v-model="time_value">
                    <option v-for="time in times" :key="time.minute" :value="time.minute">{{ time.text }}</option>
                </select>
            </div>
        </div>
        <!-- 子STEP内容 -->
        <div class="l-row c-form__group">
            <div class="l-row__col12 l-row__col04-pc">
                <label for="email" class="p-prof-edit__label">STEP1の内容</label>
                <span class="c-form__require">必須</span>
            </div>
            <div class="l-row__col12 l-row__col08-pc">
                <textarea class="c-textarea c-textarea--high c-textarea--full" name="" id="intro" v-model="content"></textarea>
            </div>
        </div>
    </div>
</div>
</template>
<script>
    export default {
        props: ['index', 'value'],
        data: function() {
            return {
                title: '',
                time_value: 0,
                content: '',
                times: [
                    { minute: 0, text: '選択してください' },
                    { minute: 15, text: '15分' },
                    { minute: 30, text: '30分' },
                    { minute: 60, text: '1時間' },
                    { minute: 90, text: '1時間半' },
                    { minute: 120, text: '2時間' },
                    { minute: 150, text: '2時間半' },
                    { minute: 180, text: '3時間' },
                    { minute: 210, text: '3時間半' },
                    { minute: 240, text: '4時間' },
                    { minute: 270, text: '4時間半' },
                    { minute: 300, text: '5時間' },
                    { minute: 330, text: '5時間半' },
                    { minute: 360, text: '6時間' },
                    { minute: 390, text: '6時間半' },
                    { minute: 420, text: '7時間' },
                    { minute: 450, text: '7時間半' },
                    { minute: 480, text: '8時間' },
                    { minute: 510, text: '8時間半' },
                    { minute: 540, text: '9時間' },
                    { minute: 570, text: '9時間半' },
                    { minute: 600, text: '10時間' },
                ]
            }
        },
        mounted: function() {
             this.title = this.value.child_title;
             this.time_value = this.value.time;
             this.content = this.value.child_content;
        },
        updated: function() {
            this.$emit('input', {
                child_title: this.title,
                time: this.time_value,
                child_content: this.content
            });
        },        
    }

</script>